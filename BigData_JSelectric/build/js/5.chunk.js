(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{642:function(e,t,n){"use strict";n.d(t,"a",function(){return k});n(505);var a=n(506),r=n.n(a),c=(n(216),n(217)),l=n.n(c),o=n(152),i=n.n(o),s=n(153),m=n.n(s),u=n(154),h=n.n(u),d=n(155),p=n.n(d),E=n(156),g=n.n(E),b=n(2),v=n.n(b),k=function(e){function t(){return i()(this,t),h()(this,p()(t).apply(this,arguments))}return g()(t,e),m()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.text,a=t.route,c=t.right;return v.a.createElement(r.a,{mode:"light",icon:[v.a.createElement(l.a,{key:"0",type:"left",size:"lg"})],onLeftClick:function(){return e.props.history.goBack()},rightContent:v.a.createElement("div",{onClick:function(){return e.props.history.push(a||"")}},c||"")},n||"")}}]),t}(b.Component)},644:function(t,n,a){"use strict";a.r(n);a(633);var r=a(634),c=a.n(r),l=a(81),o=a.n(l),i=a(107),s=a.n(i),m=a(152),u=a.n(m),h=a(153),d=a.n(h),p=a(154),E=a.n(p),g=a(155),b=a.n(g),v=a(156),k=a.n(v),f=a(48),y=a.n(f),C=a(83),N=a.n(C),w=(a(630),a(631)),S=a.n(w),x=a(2),I=a.n(x),z=a(640),P=a(642),O=a(108),j=a(84),J=S.a.alert,T=function(t){function n(){var e;return u()(this,n),e=E()(this,b()(n).call(this)),N()(y()(y()(e)),"handleContract",s()(o.a.mark(function t(){var n,a,r,c,l,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.provice,r=n.city,c=n.elecNumber,l=n.msg,t.next=3,Object(O.a)({method:"POST",headers:{"Access-User-Token":e.props.token},url:"".concat(O.c,"/contract/add"),data:{elecNumber:c.trim(),provinceCode:a,cityCode:r}});case 3:0==(i=t.sent).retCode?(localStorage.setItem("contract",!0),J(I.a.createElement("div",{style:{width:".81rem",height:".81rem",margin:".2rem auto 0",background:"url(".concat(O.b,"/assets/images/success.png) 100% center no-repeat"),backgroundSize:"100% 100%"}}),I.a.createElement("div",{style:{color:"#333",fontSize:".18rem"}},"签约成功"),[{text:"查看活动进展",onPress:function(){return e.props.history.push("/contracted")}}])):J("签约失败",I.a.createElement("div",null,l[i.retCode]),[{text:"确定"}]);case 5:case"end":return t.stop()}},t,this)}))),e.state={checked:!1,provice:"",city:"0",elecNumber:"",msg:{41001:"缴费账号已存在"}},e}return k()(n,t),d()(n,[{key:"render",value:function(){var e=this.state,t=e.elecNumber,n=e.checked;return I.a.createElement(x.Fragment,null,I.a.createElement(P.a,{text:"电力需求",history:this.props.history}),I.a.createElement("div",{className:"banner",style:{background:"url(".concat(O.b,"/assets/images/banner.png) 100% center no-repeat"),backgroundSize:"100% 100%"}}),I.a.createElement("div",{className:"contract"},I.a.createElement(z.a,{to:"/"},"电力削峰是指............."),I.a.createElement("br",null),I.a.createElement(z.a,{to:"/"},"签约后如何执行............."),I.a.createElement("br",null),I.a.createElement("div",{className:"form"},I.a.createElement("div",{className:"align-center title"},"注册签约"),I.a.createElement("div",{className:"form-con"},I.a.createElement("label",{className:"align-right"},"省"),I.a.createElement("select",{onChange:this.handleChangeProvice.bind(this)},I.a.createElement("option",null,"江苏省"))),I.a.createElement("div",{className:"form-con"},I.a.createElement("label",{className:"align-right"},"市"),I.a.createElement("select",{onChange:this.handleChangeCity.bind(this)},I.a.createElement("option",null,"南京市"),I.a.createElement("option",null,"常州市"),I.a.createElement("option",null,"无锡市"),I.a.createElement("option",null,"徐州市"),I.a.createElement("option",null,"苏州市"),I.a.createElement("option",null,"南通市"),I.a.createElement("option",null,"连云港市"),I.a.createElement("option",null,"淮安市"),I.a.createElement("option",null,"盐城市"),I.a.createElement("option",null,"扬州市"),I.a.createElement("option",null,"镇江市"),I.a.createElement("option",null,"泰州市"),I.a.createElement("option",null,"宿迁市"))),I.a.createElement("div",{className:"form-con"},I.a.createElement("label",{className:"align-right"},"缴费账号"),I.a.createElement("input",{type:"text",onChange:this.handlechange.bind(this,"elecNumber")})),I.a.createElement("div",{className:"align-center num"},I.a.createElement(z.a,{to:"/elecNumber"},"如何查询户号")),I.a.createElement("div",{className:"align-center contract-btn"},I.a.createElement("div",null,I.a.createElement(c.a,{checked:n,onChange:this.handleCheck.bind(this)},"我已阅读并同意",I.a.createElement(z.a,{to:"/protocol"},"《海尔协议》"))),I.a.createElement("button",{className:!n||""==t.trim()?"btn btn-disabled":"btn btn-able",disabled:!n||""==t.trim(),onClick:this.handleContract.bind(this)},"签约")))))}},{key:"handlechange",value:function(e,t){this.setState(N()({},e,t.target.value))}},{key:"handleCheck",value:function(e){this.setState({checked:e.target.checked})}},{key:"handleChangeCity",value:function(e){this.setState({provice:e.target.checked})}},{key:"handleChangeProvice",value:function(){this.setState({city:e.target.checked})}}]),n}(x.Component);n.default=Object(j.b)(function(e){return{userId:e.userInfo.userId,token:e.userInfo.token}})(T)}}]);
//# sourceMappingURL=5.chunk.js.map