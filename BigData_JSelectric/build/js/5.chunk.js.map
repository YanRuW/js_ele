{"version":3,"sources":["webpack:///./src/component/navBar.jsx","webpack:///./src/container/contract.jsx"],"names":["Nav","_this","this","_this$props","props","text","route","right","react__WEBPACK_IMPORTED_MODULE_9___default","a","createElement","antd_mobile_lib_nav_bar__WEBPACK_IMPORTED_MODULE_1___default","mode","icon","antd_mobile_lib_icon__WEBPACK_IMPORTED_MODULE_3___default","key","type","size","onLeftClick","history","goBack","rightContent","onClick","push","Component","alert","antd_mobile_lib_modal__WEBPACK_IMPORTED_MODULE_12___default","Contract","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_4___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_6___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default","call","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_9___default","_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","mark","_callee","_this$state","provice","city","elecNumber","msg","result","wrap","_context","prev","next","state","axios","method","headers","Access-User-Token","token","url","concat","root","data","trim","provinceCode","cityCode","sent","retCode","localStorage","setItem","react__WEBPACK_IMPORTED_MODULE_13___default","style","width","height","margin","background","rest","backgroundSize","color","fontSize","onPress","stop","checked","41001","_this$state2","react__WEBPACK_IMPORTED_MODULE_13__","_component_navBar__WEBPACK_IMPORTED_MODULE_15__","className","react_router_dom__WEBPACK_IMPORTED_MODULE_14__","to","onChange","handleChangeProvice","bind","handleChangeCity","handlechange","antd_mobile_lib_checkbox__WEBPACK_IMPORTED_MODULE_1___default","handleCheck","disabled","handleContract","event","setState","target","value","e","connect","userId","userInfo"],"mappings":"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","file":"js/5.chunk.js","sourcesContent":["import React,{Component} from \"react\";\r\nimport { Icon ,NavBar} from 'antd-mobile';\r\nexport default class Nav extends Component{\r\n    render(){\r\n        let {text,route,right} = this.props;\r\n       return(   \r\n        <NavBar\r\n        mode=\"light\"\r\n        icon={[<Icon key=\"0\" type=\"left\" size=\"lg\"/>,\r\n        ]}\r\n        onLeftClick={() => this.props.history.goBack()}\r\n        rightContent={<div onClick={()=>this.props.history.push(route?route:\"\")}>{right?right:\"\"}</div>}\r\n      >{text?text:\"\"}</NavBar>  \r\n       )\r\n    }\r\n}","//JavaScript Document\r\nimport React, { Component, Fragment } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Modal, Checkbox  } from 'antd-mobile';\r\nimport Nav from \"../component/navBar\";\r\nimport { rest,axios,root} from \"../api\";\r\nimport { connect } from \"react-redux\";\r\nconst alert = Modal.alert;\r\nclass Contract extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state={\r\n            checked:false,\r\n            provice:\"\",\r\n            city:\"0\",\r\n            elecNumber:\"\",\r\n            msg:{\r\n                \"41001\":\"缴费账号已存在\"\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        let {elecNumber,checked} = this.state;\r\n        return <Fragment>    \r\n            <Nav  text=\"电力需求\"  history={this.props.history} />\r\n            <div className=\"banner\" style={{background:`url(${rest}/assets/images/banner.png) 100% center no-repeat`,backgroundSize:\"100% 100%\"}}></div>\r\n            <div className=\"contract\">\r\n                <NavLink to=\"/\">电力削峰是指.............</NavLink><br/>\r\n                <NavLink to=\"/\">签约后如何执行.............</NavLink><br/>\r\n                <div className=\"form\">\r\n                    <div className=\"align-center title\">注册签约</div>\r\n                    <div className=\"form-con\">\r\n                        <label className=\"align-right\">省</label>\r\n                        <select  onChange={this.handleChangeProvice.bind(this)}>\r\n                            <option>江苏省</option>\r\n                        </select>\r\n                        {/* <input  type=\"text\" onChange={this.handlechange.bind(this,\"provice\")} /> */}\r\n                    </div>\r\n                    <div  className=\"form-con\">\r\n                        <label  className=\"align-right\">市</label>\r\n                        <select \r\n                            onChange={this.handleChangeCity.bind(this)} >\r\n                            <option>南京市</option>\r\n                            <option>常州市</option>\r\n                            <option>无锡市</option>\r\n                            <option>徐州市</option>\r\n                            <option>苏州市</option>\r\n                            <option>南通市</option>\r\n                            <option>连云港市</option>\r\n                            <option>淮安市</option>\r\n                            <option>盐城市</option>\r\n                            <option>扬州市</option>\r\n                            <option>镇江市</option>\r\n                            <option>泰州市</option>\r\n                            <option>宿迁市</option>\r\n                        </select>\r\n                        {/* <input type=\"text\"  onChange={this.handlechange.bind(this,\"elecNumber\")} /> */}\r\n                    </div>\r\n                    <div  className=\"form-con\">\r\n                        <label  className=\"align-right\">缴费账号</label>\r\n                        <input type=\"text\"  onChange={this.handlechange.bind(this,\"elecNumber\")} />\r\n                    </div>\r\n                    <div className=\"align-center num\"><NavLink to=\"/elecNumber\">如何查询户号</NavLink></div> \r\n                    {/* <div className=\"msg\">{msg}</div> */}\r\n                    <div className=\"align-center contract-btn\">\r\n                    <div>\r\n                        <Checkbox checked={checked} onChange={this.handleCheck.bind(this)}>我已阅读并同意<NavLink to=\"/protocol\">《海尔协议》</NavLink></Checkbox>\r\n                    </div>\r\n                    <button className={(checked && elecNumber.trim()!=\"\"?true:false)?\"btn btn-able\":\"btn btn-disabled\"} disabled={!checked || elecNumber.trim()==\"\"?true:false} onClick={this.handleContract.bind(this)}>签约</button>\r\n                </div>\r\n                </div>\r\n               \r\n            </div>\r\n               \r\n        </Fragment>;\r\n    }\r\n    handlechange(key,event){\r\n        this.setState({\r\n            [key]:event.target.value\r\n        })\r\n    }\r\n    handleContract = async ()=>{\r\n        let { provice,city, elecNumber,msg} = this.state;\r\n            let result = await axios({\r\n                        method:\"POST\",\r\n                        headers: {\r\n                            // \"Content-Type\": \"application/json;charset=utf-8\",\r\n                            \"Access-User-Token\":this.props.token\r\n                        },\r\n                        url:`${root}/contract/add`,\r\n                        data:{\r\n                            elecNumber:elecNumber.trim(),\r\n                            provinceCode:provice,\r\n                            cityCode:city\r\n                        }\r\n                    });\r\n                    if(result.retCode == 0){\r\n                        localStorage.setItem(\"contract\", true);\r\n                        alert(<div style={{width:\".81rem\",height:\".81rem\",margin:\".2rem auto 0\",background:`url(${rest}/assets/images/success.png) 100% center no-repeat`,backgroundSize:\"100% 100%\"}}></div>, \r\n                        <div style={{color:\"#333\",fontSize:\".18rem\"}}>签约成功</div>, [\r\n                            { text: '查看活动进展', onPress: () =>this.props.history.push(\"/contracted\") },\r\n                        ])\r\n                    }else{\r\n                        alert('签约失败', <div>{msg[result.retCode]}</div>, [\r\n                            { text: '确定'}\r\n                          ])\r\n                    }  \r\n    }\r\n    handleCheck(e){\r\n        this.setState({\r\n            checked:e.target.checked\r\n        })\r\n    }\r\n    handleChangeCity(e){\r\n        this.setState({\r\n            provice:e.target.checked\r\n        })\r\n    }\r\n    handleChangeProvice(){\r\n        this.setState({\r\n            city:e.target.checked\r\n        })\r\n    }\r\n};\r\nconst mapStateToProps = (state)=>({\r\n    userId:state.userInfo.userId,\r\n    token:state.userInfo.token\r\n})\r\nexport default connect(mapStateToProps)(Contract)"],"sourceRoot":""}